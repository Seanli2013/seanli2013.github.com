
<!DOCTYPE html>
<!--[if IEMobile 7 ]><html class="no-js iem7"><![endif]-->
<!--[if lt IE 9]><html class="no-js lte-ie8"><![endif]-->
<!--[if (gt IE 8)|(gt IEMobile 7)|!(IEMobile)|!(IE)]><!--><html class="no-js" lang="en"><!--<![endif]-->
<head>
  <meta charset="utf-8">
  <title>学习Apple的编码规范 - 大钟威武</title>
  <meta name="author" content="Xiang LI">

  
  <meta name="description" content="编码规范很重要，毕竟你的代码除了你，还有很多人可能需要阅读。遵守一个编码规范，可以使你的代码易于理解和维护。 使用编码规范是个基础技能，采用谁家的编码规范比较好呢？看你给谁工作了。对OC，苹果、google都有自己的一套编码规范，估计其他公司也都有自己成行的编码规范。 &hellip;">
  

  <!-- http://t.co/dKP3o1e -->
  <meta name="HandheldFriendly" content="True">
  <meta name="MobileOptimized" content="320">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  
  <link rel="canonical" href="http://Seanli2013.github.io/blog/2013/07/29/coding-guidelines-for-cocoa">
  <link href="/favicon.png" rel="icon">
  <link href="/stylesheets/screen.css" media="screen, projection" rel="stylesheet" type="text/css">
  <link href="/atom.xml" rel="alternate" title="大钟威武" type="application/atom+xml">
  <script src="/javascripts/modernizr-2.0.js"></script>
  <script src="//ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
  <script>!window.jQuery && document.write(unescape('%3Cscript src="./javascripts/lib/jquery.min.js"%3E%3C/script%3E'))</script>
  <script src="/javascripts/octopress.js" type="text/javascript"></script>
  <!--Fonts from Google"s Web font directory at http://google.com/webfonts -->



//<link href="http://fonts.googleapis.com/css?family=PT+Serif:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">
//<link href="http://fonts.googleapis.com/css?family=PT+Sans:regular,italic,bold,bolditalic" rel="stylesheet" type="text/css">

//<link href='http://fonts.googleapis.com/css?family=Droid+Sans' rel='stylesheet' type='text/css'>

<link href='http://fonts.googleapis.com/css?family=Delius' rel='stylesheet' type='text/css'>

  
  <script type="text/javascript">
    var _gaq = _gaq || [];
    _gaq.push(['_setAccount', 'UA-42372886-1']);
    _gaq.push(['_trackPageview']);

    (function() {
      var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
      ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
      var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
    })();
  </script>


<link href="/stylesheets/data-table.css" media="screen, projection" rel="stylesheet" type="text/css" />
</head>

<body   >
  <header role="banner"><hgroup>
  <h1><a href="/">大钟威武</a></h1>
  
    <h2>从白痴到大师的点滴积累</h2>
  
</hgroup>

</header>
  <nav role="navigation"><ul class="subscription" data-subscription="rss">
  <li><a href="/atom.xml" rel="subscribe-rss" title="subscribe via RSS">RSS</a></li>
  
</ul>
  
<form action="http://google.com/search" method="get">
  <fieldset role="search">
    <input type="hidden" name="q" value="site:Seanli2013.github.io" />
    <input class="search" type="text" name="q" results="0" placeholder="Search"/>
  </fieldset>
</form>
  
<ul class="main-navigation">
  <li><a href="/">博文</a></li>
  <li><a href="/blog/archives">归档</a></li>
  <li><a href="/blog/categories/chan-pin-zhi-chi">产品支持</a></li>
</ul>

</nav>
  <div id="main">
    <div id="content">
      <div>
<article class="hentry" role="article">
  
  <header>
    
      <h1 class="entry-title">学习Apple的编码规范</h1>
    
    
      <p class="meta">
        








  


<time datetime="2013-07-29T14:19:00+08:00" pubdate data-updated="true">Jul 29<span>th</span>, 2013</time>
        
      

          | <a href="#comments">Comments</a>
         

	</p>
    
  </header>


<div class="entry-content"><p>编码规范很重要，毕竟你的代码除了你，还有很多人可能需要阅读。遵守一个编码规范，可以使你的代码易于理解和维护。</p>

<p>使用编码规范是个基础技能，采用谁家的编码规范比较好呢？看你给谁工作了。对OC，苹果、google都有自己的一套编码规范，估计其他公司也都有自己成行的编码规范。</p>

<p>google家写过一个被广泛接受的C++编码规范，他家的oc编码规范是结合了苹果家的oc规范和他自家的c++规范。所以对于iOS新手，我觉得先了解一下苹果家的编码规范比较好。</p>

<p>苹果家的编码规范<a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/CodingGuidelines.html#//apple_ref/doc/uid/10000146-SW1">Coding Guidelines for Cocoa</a>。</p>

<p>简单翻译了下：</p>

<h2>代码名称基础</h2>

<h3>基本原则</h3>

<h4>清晰</h4>

<ol>
<li>又清晰又简洁是最好的了，但简洁不如清晰重要</li>
<li>总的讲不要使用单词的简写，除了非常非常常用的简写以外（<a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/APIAbbreviations.html#//apple_ref/doc/uid/20001285-BCIHCGAE">Acceptable Abbreviations and Acronyms</a>），尽量使用单词全称，长点儿不要紧</li>
<li>API的名称不要有歧义，一看你的API就知道是以什么方式做了什么事情，不要让人有疑问</li>
</ol>


<h4>一致性</h4>

<p>做某个事情代码通常都叫这个名字，比如tag、setStringValue，那么你也这么叫。你在不确定怎么起名字的时候，可以参考一些常用的名字：<a href="https://developer.apple.com/library/mac/#documentation/Cocoa/Conceptual/CodingGuidelines/Articles/NamingMethods.html#//apple_ref/doc/uid/20001282-1001865">Method Arguments</a></p>

<figure class='code'><div class="highlight"><table><tr><td class="gutter"><pre class="line-numbers"><span class='line-number'>1</span>
<span class='line-number'>2</span>
<span class='line-number'>3</span>
<span class='line-number'>4</span>
<span class='line-number'>5</span>
<span class='line-number'>6</span>
<span class='line-number'>7</span>
<span class='line-number'>8</span>
<span class='line-number'>9</span>
<span class='line-number'>10</span>
<span class='line-number'>11</span>
<span class='line-number'>12</span>
<span class='line-number'>13</span>
<span class='line-number'>14</span>
<span class='line-number'>15</span>
<span class='line-number'>16</span>
</pre></td><td class='code'><pre><code class=''><span class='line'>...action:(SEL)aSelector
</span><span class='line'>...alignment:(int)mode
</span><span class='line'>...atIndex:(int)index
</span><span class='line'>...content:(NSRect)aRect
</span><span class='line'>...doubleValue:(double)aDouble
</span><span class='line'>...floatValue:(float)aFloat
</span><span class='line'>...font:(NSFont *)fontObj
</span><span class='line'>...frame:(NSRect)frameRect
</span><span class='line'>...intValue:(int)anInt
</span><span class='line'>...keyEquivalent:(NSString *)charCode
</span><span class='line'>...length:(int)numBytes
</span><span class='line'>...point:(NSPoint)aPoint
</span><span class='line'>...stringValue:(NSString *)aString
</span><span class='line'>...tag:(int)anInt
</span><span class='line'>...target:(id)anObject
</span><span class='line'>...title:(NSString *)aString</span></code></pre></td></tr></table></div></figure>


<h3>前缀</h3>

<p>前缀一般是2到3个大写之母，可以用来给类、协议、函数、常量、typedef结构起名字时用。但不要给方法用，方法存在的命名空间是类定义的。也不要给结构体的字段使用（the fields of a structure）//没明白是啥意思？</p>

<table>
<thead>
<tr>
<th align="left">Prefix </th>
<th align="left"> Cocoa Framework</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NS  </td>
<td align="left">   Application Kit</td>
</tr>
<tr>
<td align="left">   NS </td>
<td align="left"> Foundation</td>
</tr>
<tr>
<td align="left">   AB </td>
<td align="left"> Address Book</td>
</tr>
<tr>
<td align="left">IB </td>
<td align="left"> Interface Builder</td>
</tr>
</tbody>
</table>


<!-- more -->


<h3>字体排版规范</h3>

<p>1  多个词在一起时，不要使用标点符号（包括下划线、斜杠等），一般词首字母大写即可。</p>

<ul>
<li><p>具体到方法名，第一个词首字母小些，后面的词首字母大写，不要用前缀；
  <code>
  fileExistsAtPath:isDirectory:
 </code></p></li>
<li><p>函数名、常量名使用相关联的类的同样的前缀，后面跟着的词首字母大写。
  <code>
  NSRunAlertPanel
  NSCellDisabled
 </code></p></li>
</ul>


<p>2  避免使用下划线来命名私有方法名（要是命名一个实例变量名是可以的），这算是Apple的保留写法，如果使用了可能会和已存在的函数重名。</p>

<h3>类和协议名</h3>

<p>类名中应该包含一个名词来说明这个类（或者类的对象）是做什么的。并且这个雷鸣应该有个合适的前缀。例如NSString、NSDate、NSButton、UIApplication等等。</p>

<p>协议应该按照他们的行为命名</p>

<p>1  多数协议是一组方法的集合，并不是专门为了某个类服务的。这类协议的命名要区别于类的命名样子，一般都是加个ing</p>

<table>
<thead>
<tr>
<th align="left">NSLocking </th>
<th align="left"> Good</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NSLock </td>
<td align="left"> Poor (seems like a name for a class)</td>
</tr>
</tbody>
</table>


<p>2  还有一些协议是把一些没啥关系的方法放在一起，这种协议一般是协助一个类。这种情况下，这种协议可以和类名一样。例子就是NSObject。</p>

<h3>头文件</h3>

<p>1  定义一个独立的类或协议，这时类名和h文件名一样</p>

<table>
<thead>
<tr>
<th align="left">Header file </th>
<th align="left"> Declares</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NSLocale.h </td>
<td align="left"> The NSLocale class.</td>
</tr>
</tbody>
</table>


<p>2  定义关联的一些类或协议，一般使用最初最基本的那个类的名字</p>

<table>
<thead>
<tr>
<th align="left">Header file </th>
<th align="left"> Declares</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">NSString.h </td>
<td align="left"> NSString and NSMutableString classes.</td>
</tr>
<tr>
<td align="left">NSLock.h </td>
<td align="left"> NSLocking protocol and NSLock, NSConditionLock, and NSRecursiveLock classes.</td>
</tr>
</tbody>
</table>


<p>3  包含Framework的头文件，使用framework的名字+.h，包含这个framework的公共头文件。</p>

<table>
<thead>
<tr>
<th align="left">Header file </th>
<th align="left"> Framework</th>
</tr>
</thead>
<tbody>
<tr>
<td align="left">Foundation.h </td>
<td align="left"> Foundation.framework.</td>
</tr>
</tbody>
</table>


<p>4  给另外一个framwork中的类增加API时，应该延用原始类的名字。例如NSBundleAdditions.h header file of the Application Kit</p>

<p>5  相关联的函数和数据类型在一起时，使用一个最贴切的名字做头文件。例如NSGraphics.h (Application Kit)，包含了相关的函数、常量、结构体、数据类型等。</p>

<p>以上是基础的明明规则，在苹果家的代码规范中，接下来分别介绍了方法命名、函数命名、属性和数据类型命名。新手都应该好好阅读下。</p>

<p>最后还专门为framework开发者提供了一些Tips和Techniques。有兴趣的童鞋也可好好阅读下。</p>
</div>


  <footer>
    <p class="meta">
      
  

<span class="byline author vcard">Posted by <span class="fn">Xiang LI</span></span>

      








  


<time datetime="2013-07-29T14:19:00+08:00" pubdate data-updated="true">Jul 29<span>th</span>, 2013</time>
      

<span class="categories">
  
    <a class='category' href='/blog/categories/iosru-men/'>iOS入门</a>
  
</span>


    </p>
    
      <div class="sharing">
  
  <a href="//twitter.com/share" class="twitter-share-button" data-url="http://Seanli2013.github.io/blog/2013/07/29/coding-guidelines-for-cocoa/" data-via="" data-counturl="http://Seanli2013.github.io/blog/2013/07/29/coding-guidelines-for-cocoa/" >Tweet</a>
  
  
  
</div>

    
    <p class="meta">
      
        <a class="basic-alignment left" href="/blog/2013/07/26/rss-read-on-mac/" title="Previous Post: Mac下的RSS阅读器">&laquo; Mac下的RSS阅读器</a>
      
      
        <a class="basic-alignment right" href="/blog/2013/08/04/ios-gestures/" title="Next Post: 学习iOS的手势gestures">学习iOS的手势gestures &raquo;</a>
      
    </p>
  </footer>
</article>



  <section>
    <h1>Comments</h1>
    <div id="comments" aria-live="polite"><!-- Duoshuo Comment BEGIN -->
<div class="ds-thread"></div>
<script type="text/javascript">
  var duoshuoQuery = {short_name:"bigbell"};
  (function() {
    var ds = document.createElement('script');
    ds.type = 'text/javascript';ds.async = true;
    ds.src = 'http://static.duoshuo.com/embed.js';
    ds.charset = 'UTF-8';
    (document.getElementsByTagName('head')[0] 
    || document.getElementsByTagName('body')[0]).appendChild(ds);
  })();
</script>
<!-- Duoshuo Comment END -->
</div>
  </section>


</div>

<aside class="sidebar">
  
    <section>
  <h1>分类列表</h1>
    <ul id="category-list"><li><a href='/blog/categories/iosru-men/'>iOS入门 (9)</a></li><li><a href='/blog/categories/tools/'>Tools (4)</a></li><li><a href='/blog/categories/chan-pin-zhi-chi/'>产品支持 (3)</a></li><li><a href='/blog/categories/ji-zhu-yi-wai/'>技术以外 (1)</a></li></ul>
</section>
<section>
<h1>我的产品</h1>
<ul>
<li>
<a href="http://bigbelldev.com/blog/2013/10/08/product-support-sreminder-main-page/">*** 药提醒你 ***</a>
</li>
</ul>
</section>
<section>
  <h1>最新文章</h1>
  <ul id="recent_posts">
    
      <li class="post">
        <a href="/blog/2013/10/28/ios-arc/">iOS ARC入门</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/24/iwork-free/">老旧Mac如何免费获得iWork</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/23/ios7-auto-layout/">iOS7 Autolayout入门</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/12/tableviewcell-superview-changed-on-ios7-sdk/">UITableViewCell在iOS7之后superview的问题</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/08/product-support-sreminder-main-page/">药提醒你</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/10/03/product-support-reminder-feedback-1-dot-0/">“药提醒你”V1.0反馈</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/09/18/product-support-sreminder/">“药提醒你”接下来需要什么功能？</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/27/to-learn-to-explore/">在实践中快速成长</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/05/ios-accelerometer/">学习iOS传感器的使用</a>
      </li>
    
      <li class="post">
        <a href="/blog/2013/08/04/ios-gestures/">学习iOS的手势gestures</a>
      </li>
    
  </ul>
</section>




<section>
<h1>最新评论</h1>
<ul class="ds-recent-comments" data-num-items="10" data-show-avatars="0" data-show-time="0" data-show-title="0" data-show-admin="0" data-excerpt-length="18"></ul>

</section>
<section>
<h1>备忘链接</h1>
<ul>
<li>
<a href="http://octopress.org/docs">octopress配置</a>
</li>
</ul>
</section>

  
</aside>


    </div>
  </div>
  <footer role="contentinfo"><p>
  Copyright &copy; 2013 - Xiang LI -
  <span class="credit">Powered by <a href="http://octopress.org">Octopress</a></span>
</p>

</footer>
  







  <script type="text/javascript">
    (function(){
      var twitterWidgets = document.createElement('script');
      twitterWidgets.type = 'text/javascript';
      twitterWidgets.async = true;
      twitterWidgets.src = '//platform.twitter.com/widgets.js';
      document.getElementsByTagName('head')[0].appendChild(twitterWidgets);
    })();
  </script>





</body>
</html>
